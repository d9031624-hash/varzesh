<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>BMI + Body Preview</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<style>
    body {
        background: #1b1f24;
        color: #fff;
        font-family: sans-serif;
        text-align: center;
        padding: 20px;
    }

    input, select {
        width: 90%;
        padding: 12px;
        margin: 10px;
        border-radius: 12px;
        border: none;
        font-size: 17px;
    }

    button {
        width: 95%;
        padding: 14px;
        background: #00adb5;
        border: none;
        border-radius: 14px;
        font-size: 20px;
        margin-top: 10px;
        cursor: pointer;
    }

    #result {
        margin-top: 25px;
        font-size: 20px;
        line-height: 1.8;
    }

    /* جعبه نمایش بدن */
    .body-preview-box {
        margin-top: 25px;
        background: #111316;
        padding: 15px;
        border-radius: 18px;
        display: flex;
        justify-content: space-around;
        align-items: center;
        box-shadow: inset 0 0 20px rgba(0,0,0,0.4);
    }

    .body-item {
        width: 45%;
        text-align: center;
    }

    .body-item img {
        width: 100%;
        max-width: 140px;
        filter: drop-shadow(0 0 8px #000);
    }

    .label {
        font-weight: bold;
        margin-bottom: 8px;
        display: block;
        font-size: 18px;
    }
</style>

</head>
<body>

<h2>محاسبه BMI + نمایش بدن</h2>

<input type="number" id="height" placeholder="قد (سانتی‌متر)">
<input type="number" id="weight" placeholder="وزن (کیلوگرم)">
<select id="gender">
    <option value="male">مرد</option>
    <option value="female">زن</option>
</select>

<button onclick="calc()">محاسبه</button>

<div id="result"></div>

<div id="bodyBox"></div>

<script>
function calc() {
    let h = parseFloat(document.getElementById("height").value) / 100;
    let w = parseFloat(document.getElementById("weight").value);
    let gender = document.getElementById("gender").value;

    if (!h || !w) {
        document.getElementById("result").innerText = "لطفاً قد و وزن را وارد کنید.";
        return;
    }

    let bmi = w / (h * h);

    let ideal = gender === "male" ? 22 : 21;
    let idealWeight = (ideal * (h * h)).toFixed(1);

    let diff = (w - idealWeight).toFixed(1);

    let status =
        bmi < 18.5 ? "کم‌وزن" :
        bmi < 25 ? "نرمال" :
        bmi < 30 ? "اضافه وزن" :
        "چاق";

    document.getElementById("result").innerHTML = `
        <b>BMI:</b> ${bmi.toFixed(1)}<br>
        <b>وضعیت:</b> ${status}<br>
        <b>وزن ایده‌آل:</b> ${idealWeight} کیلو<br>
        <b>اختلاف وزن:</b> ${diff} کیلو
    `;

    // عکس بدن فعلی
    let imgActual =
        bmi < 18.5 ? "https://i.postimg.cc/XYqLbGxK/thin.png" :
        bmi < 25   ? "https://i.postimg.cc/6pF1y8XT/normal.png" :
                      "https://i.postimg.cc/gcL4gqj5/fat.png";

    // عکس بدن ایده‌آل
    let imgIdeal = "https://i.postimg.cc/6pF1y8XT/normal.png";

    document.getElementById("bodyBox").innerHTML = `
        <div class="body-preview-box">
            <div class="body-item">
                <span class="label">بدن فعلی</span>
                <img src="${imgActual}">
            </div>
            <div class="body-item">
                <span class="label">بدن ایده‌آل</span>
                <img src="${imgIdeal}">
            </div>
        </div>
    `;
}
</script>

</body>
</html>
